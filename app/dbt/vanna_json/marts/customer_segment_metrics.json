{
  "name": "customer_segment_metrics",
  "description": "Aggregates key campaign performance metrics from `stg_campaigns` for each distinct customer segment. Provides a high-level view of segment performance across various dimensions like cost, engagement, and return on investment.",
  "columns": [
    {
      "name": "Customer_Segment",
      "type": "VARCHAR",
      "description": "The distinct customer segment targeted by the campaigns. This serves as the primary dimension for grouping campaign metrics.",
      "tests": [
        "not_null",
        "unique",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "campaign_count",
      "type": "BIGINT",
      "description": "The total number of campaigns associated with this customer segment.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "avg_conversion_rate",
      "type": "DOUBLE",
      "description": "The average conversion rate across all campaigns targeting this customer segment. Typically calculated as (Total Conversions / Total Clicks or Impressions) averaged per campaign.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "avg_roi",
      "type": "DOUBLE",
      "description": "The average Return on Investment (ROI) across all campaigns targeting this customer segment. Calculated as ((Revenue - Cost) / Cost) averaged per campaign.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "avg_acquisition_cost",
      "type": "DOUBLE",
      "description": "The average cost to acquire a customer (CAC) or achieve a conversion goal across all campaigns targeting this customer segment.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "total_clicks",
      "type": "HUGEINT",
      "description": "The sum total number of clicks generated by all campaigns targeting this customer segment.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "total_impressions",
      "type": "HUGEINT",
      "description": "The sum total number of impressions served by all campaigns targeting this customer segment.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "overall_ctr",
      "type": "FLOAT",
      "description": "The overall Click-Through Rate (CTR) for the customer segment, calculated as (Total Clicks / Total Impressions) across all associated campaigns.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    }
  ],
  "tags": []
}