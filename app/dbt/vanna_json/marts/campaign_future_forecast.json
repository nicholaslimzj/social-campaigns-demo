{
  "name": "campaign_future_forecast",
  "description": "Mart model that generates a 3-month performance forecast for marketing campaigns by company.\nIt combines historical monthly aggregated data from `stg_campaigns` with time series forecasting techniques (moving averages, growth rates, seasonality) calculated using SQL.\nThe model outputs both historical actuals and future predicted values for key metrics like Conversion Rate, ROI, Acquisition Cost, and CTR, along with confidence intervals.\nUsed for predictive analytics dashboards and campaign planning.\n",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "The name of the company associated with the campaign data.",
      "tests": [
        "not_null",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "month_id",
      "type": "DOUBLE",
      "description": "Numeric representation of the month and year (Format: YYYYMM). Used as the primary time dimension for historical data and forecasts.",
      "tests": [
        "not_null",
        "dbt_utils.unique_combination_of_columns",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "month",
      "type": "BIGINT",
      "description": "The calendar month number (1-12).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "year",
      "type": "DOUBLE",
      "description": "The calendar year.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate",
      "type": "DOUBLE",
      "description": "Historical average conversion rate for the company in that month. Null for forecast periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_forecast",
      "type": "DOUBLE",
      "description": "Forecasted average conversion rate for the company in that future month. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_lower_bound",
      "type": "DOUBLE",
      "description": "Lower bound of the 95% confidence interval for the conversion rate forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_upper_bound",
      "type": "DOUBLE",
      "description": "Upper bound of the 95% confidence interval for the conversion rate forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range",
        "dbt_utils.expression_is_true"
      ],
      "tags": []
    },
    {
      "name": "roi",
      "type": "DOUBLE",
      "description": "Historical average Return on Investment (ROI) for the company in that month. Null for forecast periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_forecast",
      "type": "DOUBLE",
      "description": "Forecasted average ROI for the company in that future month. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_lower_bound",
      "type": "DOUBLE",
      "description": "Lower bound of the 95% confidence interval for the ROI forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_upper_bound",
      "type": "DOUBLE",
      "description": "Upper bound of the 95% confidence interval for the ROI forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range",
        "dbt_utils.expression_is_true"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost",
      "type": "DOUBLE",
      "description": "Historical average acquisition cost for the company in that month. Null for forecast periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_forecast",
      "type": "DOUBLE",
      "description": "Forecasted average acquisition cost for the company in that future month. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_lower_bound",
      "type": "DOUBLE",
      "description": "Lower bound of the 95% confidence interval for the acquisition cost forecast (lower cost is better). Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_upper_bound",
      "type": "DOUBLE",
      "description": "Upper bound of the 95% confidence interval for the acquisition cost forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range",
        "dbt_utils.expression_is_true"
      ],
      "tags": []
    },
    {
      "name": "ctr",
      "type": "FLOAT",
      "description": "Historical average Click-Through Rate (CTR) for the company in that month. Null for forecast periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "ctr_forecast",
      "type": "DOUBLE",
      "description": "Forecasted average CTR for the company in that future month. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "ctr_lower_bound",
      "type": "DOUBLE",
      "description": "Lower bound of the 95% confidence interval for the CTR forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "ctr_upper_bound",
      "type": "DOUBLE",
      "description": "Upper bound of the 95% confidence interval for the CTR forecast. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range",
        "dbt_utils.expression_is_true"
      ],
      "tags": []
    },
    {
      "name": "is_forecast",
      "type": "BOOLEAN",
      "description": "Boolean flag indicating whether the row represents historical data (false) or forecasted data (true).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "month_name",
      "type": "VARCHAR",
      "description": "The full name of the calendar month (e.g., 'January', 'February').",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_uncertainty",
      "type": "DOUBLE",
      "description": "A relative measure of the forecast uncertainty for conversion rate, calculated as the width of the confidence interval relative to the forecast value. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_uncertainty",
      "type": "DOUBLE",
      "description": "A relative measure of the forecast uncertainty for ROI, calculated as the width of the confidence interval relative to the forecast value. Null for historical periods.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    }
  ],
  "tags": []
}