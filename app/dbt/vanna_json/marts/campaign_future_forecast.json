{
  "name": "campaign_future_forecast",
  "description": "Mart model that generates 3-month performance forecasts for marketing campaigns aggregated by company. It uses historical monthly data from `stg_campaigns` to calculate trends, seasonality, and project future Conversion Rate, ROI, Acquisition Cost, and CTR using SQL-based time series techniques. Includes confidence intervals for forecasts and combines historical actuals with future projections.",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "Identifier for the company associated with the campaign data. Groups historical and forecast metrics.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "month_id",
      "type": "DOUBLE",
      "description": "Numeric representation of the month and year in YYYYMM format (e.g., 202311). Used for time series ordering and joining. Uniquely identifies a month for a specific company.",
      "tests": [
        "not_null",
        "dbt_utils.unique_combination_of_columns"
      ],
      "tags": []
    },
    {
      "name": "month",
      "type": "BIGINT",
      "description": "The calendar month number (1-12).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "year",
      "type": "DOUBLE",
      "description": "The calendar year (e.g., 2022, 2023).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate",
      "type": "DOUBLE",
      "description": "The actual average monthly conversion rate for historical periods (where is_forecast = FALSE). Null for forecast periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_forecast",
      "type": "DOUBLE",
      "description": "The forecasted average monthly conversion rate for future periods (where is_forecast = TRUE). Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_lower_bound",
      "type": "DOUBLE",
      "description": "The lower bound of the 95% confidence interval for the forecasted conversion rate. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative",
        "dbt_expectations.expect_column_values_to_be_less_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_upper_bound",
      "type": "DOUBLE",
      "description": "The upper bound of the 95% confidence interval for the forecasted conversion rate. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative",
        "dbt_expectations.expect_column_values_to_be_greater_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "roi",
      "type": "DOUBLE",
      "description": "The actual average monthly Return on Investment (ROI) for historical periods (where is_forecast = FALSE). Null for forecast periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_not_be_null"
      ],
      "tags": []
    },
    {
      "name": "roi_forecast",
      "type": "DOUBLE",
      "description": "The forecasted average monthly ROI for future periods (where is_forecast = TRUE). Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_not_be_null"
      ],
      "tags": []
    },
    {
      "name": "roi_lower_bound",
      "type": "DOUBLE",
      "description": "The lower bound of the 95% confidence interval for the forecasted ROI. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_less_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "roi_upper_bound",
      "type": "DOUBLE",
      "description": "The upper bound of the 95% confidence interval for the forecasted ROI. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_greater_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost",
      "type": "DOUBLE",
      "description": "The actual average monthly acquisition cost for historical periods (where is_forecast = FALSE). Null for forecast periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_forecast",
      "type": "DOUBLE",
      "description": "The forecasted average monthly acquisition cost for future periods (where is_forecast = TRUE). Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_lower_bound",
      "type": "DOUBLE",
      "description": "The lower bound of the 95% confidence interval for the forecasted acquisition cost. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative",
        "dbt_expectations.expect_column_values_to_be_less_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_upper_bound",
      "type": "DOUBLE",
      "description": "The upper bound of the 95% confidence interval for the forecasted acquisition cost. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative",
        "dbt_expectations.expect_column_values_to_be_greater_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "ctr",
      "type": "FLOAT",
      "description": "The actual average monthly Click-Through Rate (CTR) for historical periods (where is_forecast = FALSE). Null for forecast periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "ctr_forecast",
      "type": "DOUBLE",
      "description": "The forecasted average monthly CTR for future periods (where is_forecast = TRUE). Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "ctr_lower_bound",
      "type": "DOUBLE",
      "description": "The lower bound of the 95% confidence interval for the forecasted CTR. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative",
        "dbt_expectations.expect_column_values_to_be_less_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "ctr_upper_bound",
      "type": "DOUBLE",
      "description": "The upper bound of the 95% confidence interval for the forecasted CTR. Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative",
        "dbt_expectations.expect_column_values_to_be_greater_than_or_equal_to"
      ],
      "tags": []
    },
    {
      "name": "is_forecast",
      "type": "BOOLEAN",
      "description": "Boolean flag indicating whether the row represents historical data (FALSE) or forecasted data (TRUE).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "month_name",
      "type": "VARCHAR",
      "description": "The full name of the calendar month (e.g., 'January', 'February'). Added for reporting and readability.",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_uncertainty",
      "type": "DOUBLE",
      "description": "A relative measure of the forecast uncertainty for conversion rate, calculated as the width of the confidence interval relative to the forecast value: ABS(upper_bound - lower_bound) / (forecast * 2). Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "roi_uncertainty",
      "type": "DOUBLE",
      "description": "A relative measure of the forecast uncertainty for ROI, calculated as the width of the confidence interval relative to the forecast value: ABS(upper_bound - lower_bound) / (forecast * 2). Null for historical periods.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    }
  ],
  "tags": []
}