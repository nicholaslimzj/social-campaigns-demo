{
  "name": "channel_quarter_budget_optimizer",
  "description": "Mart model that analyzes marketing channel performance and efficiency for the current quarter (last 3 months of data).\nIt aggregates campaign data by Company and Channel, calculates key metrics like ROI efficiency, CPC, and CTR,\nand provides optimal budget allocation recommendations based on a simplified marginal returns model.\nThe model compares current vs. optimal spend, projects potential revenue and ROI improvements,\nand categorizes recommendations by strength and direction. Designed for use in budget planning dashboards and tools.\n",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "The name of the company being analyzed.",
      "tests": [
        "not_null",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "Channel_Used",
      "type": "VARCHAR",
      "description": "The marketing channel used (e.g., Instagram, Twitter, Facebook).",
      "tests": [
        "not_null",
        "relationships",
        "accepted_values",
        "dbt_utils.unique_combination_of_columns"
      ],
      "tags": []
    },
    {
      "name": "campaign_count",
      "type": "BIGINT",
      "description": "The total number of distinct campaigns run by the company on this channel during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "company_count",
      "type": "INTEGER",
      "description": "Count of companies included in this row (always 1 as the data is grouped by Company and Channel).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "total_spend",
      "type": "DOUBLE",
      "description": "Total amount spent on this channel by the company during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_revenue",
      "type": "DOUBLE",
      "description": "Total revenue generated from this channel by the company during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_roi",
      "type": "DOUBLE",
      "description": "Average Return on Investment (ROI) across all campaigns for this company and channel during the quarter.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "avg_conversion_rate",
      "type": "DOUBLE",
      "description": "Average conversion rate across all campaigns for this company and channel during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_acquisition_cost",
      "type": "DOUBLE",
      "description": "Average cost to acquire a customer/conversion across all campaigns for this company and channel during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_ctr",
      "type": "FLOAT",
      "description": "Average Click-Through Rate (CTR) calculated as SUM(Clicks) / SUM(Impressions) for this company and channel during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_efficiency",
      "type": "DOUBLE",
      "description": "Calculated overall ROI efficiency for the channel (Total Revenue / Total Spend) during the quarter.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "cost_per_click",
      "type": "DOUBLE",
      "description": "Calculated overall Cost Per Click (CPC) for the channel (Total Spend / Total Clicks) during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "click_through_rate",
      "type": "FLOAT",
      "description": "Calculated overall Click-Through Rate (CTR) for the channel (Total Clicks / Total Impressions) during the quarter. Note: Similar to avg_ctr but calculated on aggregated totals.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "current_spend_share",
      "type": "DOUBLE",
      "description": "The percentage of the company's total marketing spend allocated to this channel during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "current_revenue_share",
      "type": "DOUBLE",
      "description": "The percentage of the company's total marketing revenue generated by this channel during the quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "efficiency_rank",
      "type": "BIGINT",
      "description": "The rank of the channel's efficiency (based on marginal ROI) within the company (1 = most efficient).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "optimal_spend_share",
      "type": "DOUBLE",
      "description": "The recommended optimal percentage of the company's total marketing spend to allocate to this channel, normalized to sum to 100% across channels.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "spend_share_change",
      "type": "DOUBLE",
      "description": "The difference between the optimal spend share and the current spend share (Optimal - Current).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "current_spend",
      "type": "DOUBLE",
      "description": "Absolute current spend for this company and channel (same as total_spend).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "optimal_spend",
      "type": "DOUBLE",
      "description": "Recommended optimal absolute spend for this company and channel based on the optimal spend share and total company spend.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "spend_change",
      "type": "DOUBLE",
      "description": "The difference between the optimal absolute spend and the current absolute spend (Optimal - Current).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "projected_revenue",
      "type": "DOUBLE",
      "description": "Estimated total revenue for this channel if the optimal spend allocation is adopted (based on a simplified projection model).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "projected_roi",
      "type": "DOUBLE",
      "description": "Estimated ROI for this channel if the optimal spend allocation is adopted (based on a simplified projection model).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "projected_improvement_pct",
      "type": "DOUBLE",
      "description": "Projected percentage change in revenue compared to current revenue if the optimal spend allocation is adopted.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "recommendation_strength",
      "type": "VARCHAR",
      "description": "Categorical assessment of the magnitude of the recommended spend change (minor_adjustment, moderate_adjustment, major_adjustment).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "recommendation_direction",
      "type": "VARCHAR",
      "description": "Categorical direction of the recommended spend change (increase_spend, decrease_spend, maintain_spend).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    }
  ],
  "tags": []
}