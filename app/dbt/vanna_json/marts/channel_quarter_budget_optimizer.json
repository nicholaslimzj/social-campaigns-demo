{
  "name": "channel_quarter_budget_optimizer",
  "description": "Analyzes marketing channel performance over the current quarter (last 3 months of data) to recommend optimal budget allocations.\nCalculates key performance and efficiency metrics (ROI, CPA, CTR) per channel, determines optimal spend percentages based on historical performance and a simplified marginal returns model,\nand compares optimal vs. current allocation. Includes projected performance improvements and constraints like minimum spend and maximum capacity.\nDesigned for budget planning and optimization dashboards.\n",
  "columns": [
    {
      "name": "Channel_Used",
      "type": "VARCHAR",
      "description": "The marketing channel being analyzed (e.g., Instagram, Facebook, Twitter).",
      "tests": [
        "unique",
        "not_null",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "campaign_count",
      "type": "BIGINT",
      "description": "Number of distinct campaigns run on this channel during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "company_count",
      "type": "BIGINT",
      "description": "Number of distinct companies utilizing this channel during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_spend",
      "type": "DOUBLE",
      "description": "Total amount spent on this channel during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_revenue",
      "type": "DOUBLE",
      "description": "Total revenue attributed to this channel during the current quarter, calculated as SUM(Clicks * Acquisition_Cost * ROI).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "avg_roi",
      "type": "DOUBLE",
      "description": "Average Return on Investment (ROI) for campaigns on this channel during the current quarter.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "avg_conversion_rate",
      "type": "DOUBLE",
      "description": "Average conversion rate for campaigns on this channel during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_acquisition_cost",
      "type": "DOUBLE",
      "description": "Average acquisition cost (CPA) for campaigns on this channel during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_ctr",
      "type": "FLOAT",
      "description": "Average Click-Through Rate (CTR) for campaigns on this channel during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_efficiency",
      "type": "DOUBLE",
      "description": "Overall ROI efficiency calculated for the channel (Total Revenue / Total Spend) during the current quarter.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "cost_per_click",
      "type": "DOUBLE",
      "description": "Calculated Cost Per Click (CPC) for the channel (Total Spend / Total Clicks) during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "click_through_rate",
      "type": "FLOAT",
      "description": "Overall Click-Through Rate (CTR) for the channel (Total Clicks / Total Impressions) during the current quarter.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "current_spend_share",
      "type": "DOUBLE",
      "description": "The channel's current share of the total marketing spend across all channels during the quarter (Channel Spend / Total Spend).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "current_revenue_share",
      "type": "DOUBLE",
      "description": "The channel's current share of the total marketing revenue across all channels during the quarter (Channel Revenue / Total Revenue).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "efficiency_rank",
      "type": "BIGINT",
      "description": "Rank of the channel based on its calculated marginal ROI (1 = highest marginal ROI).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "optimal_spend_share",
      "type": "DOUBLE",
      "description": "The recommended optimal share of the total budget for this channel based on the optimization model, normalized to sum to 1 across channels.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "spend_share_change",
      "type": "DOUBLE",
      "description": "The calculated change between the optimal spend share and the current spend share (Optimal Share - Current Share).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "current_spend",
      "type": "DOUBLE",
      "description": "Absolute current spend for the channel during the quarter (same value as total_spend, included for direct comparison).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "optimal_spend",
      "type": "DOUBLE",
      "description": "The recommended absolute budget allocation for this channel based on the optimal spend share and the total available budget.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "spend_change",
      "type": "DOUBLE",
      "description": "The calculated change in absolute spend required to reach the optimal allocation (Optimal Spend - Current Spend).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "projected_revenue",
      "type": "DOUBLE",
      "description": "Projected revenue for the channel if the optimal budget allocation is implemented (based on a simplified projection model incorporating diminishing returns).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "projected_roi",
      "type": "DOUBLE",
      "description": "Projected ROI for the channel if the optimal budget allocation is implemented (based on a simplified projection model).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "projected_improvement_pct",
      "type": "DOUBLE",
      "description": "Projected percentage improvement in revenue compared to the current revenue if the optimal budget is adopted.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "recommendation_strength",
      "type": "VARCHAR",
      "description": "Categorization of the recommended budget change magnitude based on the difference between optimal and current spend share (minor, moderate, major).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "recommendation_direction",
      "type": "VARCHAR",
      "description": "Direction of the recommended budget change based on whether optimal spend share is higher, lower, or the same as current (increase, decrease, maintain).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    }
  ],
  "tags": []
}