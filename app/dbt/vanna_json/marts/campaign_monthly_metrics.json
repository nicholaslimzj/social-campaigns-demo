{
  "name": "campaign_monthly_metrics",
  "description": "Aggregates key campaign performance metrics (clicks, impressions, spend, revenue, ROI, conversion rate, CTR) by company and month. Calculates month-over-month percentage changes for key metrics to facilitate company-specific time-based performance analysis, seasonal trend identification, and dashboard reporting. Serves as a foundation for company-specific time series visualizations and performance tracking.\n",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "Identifier for the company associated with the campaign metrics.",
      "tests": [
        "not_null",
        "relationships",
        "dbt_utils.unique_combination_of_columns"
      ],
      "tags": []
    },
    {
      "name": "month",
      "type": "BIGINT",
      "description": "The calendar month (1-12) for which the metrics are aggregated.",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "campaign_count",
      "type": "BIGINT",
      "description": "The total number of campaigns run by the company during the month.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_conversion_rate",
      "type": "DOUBLE",
      "description": "The average conversion rate across all campaigns for the company in the month.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_roi",
      "type": "DOUBLE",
      "description": "The average Return on Investment (ROI) across all campaigns for the company in the month.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "avg_acquisition_cost",
      "type": "DOUBLE",
      "description": "The average cost to acquire a customer/conversion across all campaigns for the company in the month.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "avg_ctr",
      "type": "FLOAT",
      "description": "The overall Click-Through Rate (CTR) across all campaigns for the company in the month (Total Clicks / Total Impressions).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_clicks",
      "type": "HUGEINT",
      "description": "The total number of clicks generated by the company's campaigns during the month.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_impressions",
      "type": "HUGEINT",
      "description": "The total number of impressions served by the company's campaigns during the month.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_spend",
      "type": "DOUBLE",
      "description": "The total amount spent on campaigns by the company during the month. Calculated as the sum of Acquisition_Cost from stg_campaigns.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "total_revenue",
      "type": "DOUBLE",
      "description": "The total estimated revenue generated from campaigns by the company during the month. Calculated as total_spend * avg_roi.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "roi_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average ROI compared to the previous month for the company. Null for the first month of data or if previous month ROI was zero.",
      "tests": [],
      "tags": []
    },
    {
      "name": "conversion_rate_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average conversion rate compared to the previous month for the company. Null for the first month of data or if previous month conversion rate was zero.",
      "tests": [],
      "tags": []
    },
    {
      "name": "acquisition_cost_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average acquisition cost compared to the previous month for the company (positive value indicates improvement/lower cost). Null for the first month of data or if previous month acquisition cost was zero.",
      "tests": [],
      "tags": []
    },
    {
      "name": "ctr_vs_prev_month",
      "type": "FLOAT",
      "description": "The percentage change in average CTR compared to the previous month for the company. Null for the first month of data or if previous month CTR was zero.",
      "tests": [],
      "tags": []
    }
  ],
  "tags": []
}