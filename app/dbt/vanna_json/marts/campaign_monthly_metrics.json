{
  "name": "campaign_monthly_metrics",
  "description": "Aggregates campaign performance metrics by company and month.\nThis model provides a time-based view of campaign effectiveness for each company,\ncalculating key metrics, spend, revenue, and month-over-month percentage changes.\nIt serves reporting dashboards focused on company-specific monthly trends,\nseasonal analysis, and performance comparisons.\n",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "Identifier for the company associated with the campaign metrics. Used for partitioning MoM calculations.",
      "tests": [
        "not_null",
        "dbt_utils.unique_combination_of_columns"
      ],
      "tags": []
    },
    {
      "name": "month",
      "type": "BIGINT",
      "description": "The calendar month (1-12) for which the metrics are aggregated.",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "campaign_count",
      "type": "BIGINT",
      "description": "The total number of campaigns run by the company during the month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "avg_conversion_rate",
      "type": "DOUBLE",
      "description": "The average conversion rate across all campaigns for the company in the month (expressed as a decimal, e.g., 0.08 for 8%).",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "avg_roi",
      "type": "DOUBLE",
      "description": "The average Return on Investment (ROI) across all campaigns for the company in the month.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "avg_acquisition_cost",
      "type": "DOUBLE",
      "description": "The average cost per acquisition (e.g., click, lead, depending on source definition) for the company in the month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "avg_ctr",
      "type": "FLOAT",
      "description": "The average Click-Through Rate (CTR) across all campaigns for the company in the month (expressed as a decimal).",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "total_clicks",
      "type": "HUGEINT",
      "description": "The total number of clicks generated by the company's campaigns during the month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "total_impressions",
      "type": "HUGEINT",
      "description": "The total number of impressions served by the company's campaigns during the month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "total_spend",
      "type": "DOUBLE",
      "description": "Calculated total spend for the company's campaigns in the month (total_clicks * avg_acquisition_cost).",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_non_negative"
      ],
      "tags": []
    },
    {
      "name": "total_revenue",
      "type": "DOUBLE",
      "description": "Calculated total revenue for the company's campaigns in the month (total_spend * avg_roi).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "roi_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average ROI compared to the previous month for the company. Null if previous month data is unavailable.",
      "tests": [],
      "tags": []
    },
    {
      "name": "conversion_rate_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average conversion rate compared to the previous month for the company. Null if previous month data is unavailable or previous rate was zero.",
      "tests": [],
      "tags": []
    },
    {
      "name": "acquisition_cost_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average acquisition cost compared to the previous month for the company (positive value indicates improvement/lower cost). Null if previous month data is unavailable or previous cost was zero.",
      "tests": [],
      "tags": []
    },
    {
      "name": "ctr_vs_prev_month",
      "type": "FLOAT",
      "description": "The percentage change in average CTR compared to the previous month for the company. Null if previous month data is unavailable or previous CTR was zero.",
      "tests": [],
      "tags": []
    }
  ],
  "tags": []
}