{
  "name": "campaign_month_performance_rankings",
  "description": "Ranks campaigns for each company based on performance metrics over the last 30 days.\nIdentifies top and bottom performers for ROI, conversion rate, revenue, and CPA.\nCalculates comparisons to company averages, assigns performance tiers based on ROI,\nand provides recommended optimization actions. Designed for campaign performance dashboards\nand analysis.\n",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "The name of the company running the campaign.",
      "tests": [
        "not_null",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "campaign_id",
      "type": "BIGINT",
      "description": "Unique identifier for the marketing campaign.",
      "tests": [
        "not_null",
        "dbt_utils.unique_combination_of_columns",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "goal",
      "type": "VARCHAR",
      "description": "The primary objective of the campaign (e.g., Brand Awareness, Product Launch, Increase Sales).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "channel",
      "type": "VARCHAR",
      "description": "The marketing channel used for the campaign (e.g., Instagram, Twitter, Facebook).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "segment",
      "type": "VARCHAR",
      "description": "The target customer segment for the campaign (e.g., Fashion, Technology).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "roi",
      "type": "DOUBLE",
      "description": "Return on Investment for the campaign over the last 30 days (Revenue / Spend).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate",
      "type": "DOUBLE",
      "description": "Average conversion rate for the campaign over the last 30 days.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "spend",
      "type": "DOUBLE",
      "description": "Total amount spent (Acquisition Cost) on the campaign over the last 30 days.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "revenue",
      "type": "DOUBLE",
      "description": "Total revenue generated by the campaign over the last 30 days (Spend * ROI).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost",
      "type": "DOUBLE",
      "description": "Average acquisition cost per campaign instance over the last 30 days (used as basis for CPA calculation).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "cpa",
      "type": "DOUBLE",
      "description": "Cost Per Acquisition for the campaign over the last 30 days (Spend / Conversions). Falls back to average acquisition cost if no conversions.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "ctr",
      "type": "FLOAT",
      "description": "Click-Through Rate for the campaign over the last 30 days (Clicks / Impressions).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "clicks",
      "type": "HUGEINT",
      "description": "Total number of clicks for the campaign over the last 30 days.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "impressions",
      "type": "HUGEINT",
      "description": "Total number of impressions for the campaign over the last 30 days. Filtered for > 1000 impressions.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "start_date",
      "type": "TIMESTAMP_NS",
      "description": "The earliest date included in this 30-day performance window for the campaign.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "end_date",
      "type": "TIMESTAMP_NS",
      "description": "The latest date included in this 30-day performance window for the campaign.",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "duration_days",
      "type": "BIGINT",
      "description": "The number of days covered within the 30-day window for which this campaign had data.",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_vs_company_avg",
      "type": "DOUBLE",
      "description": "Campaign ROI compared to the average ROI for all campaigns within the same company (Campaign ROI / Company Avg ROI).",
      "tests": [],
      "tags": []
    },
    {
      "name": "conversion_vs_company_avg",
      "type": "DOUBLE",
      "description": "Campaign conversion rate compared to the average conversion rate for all campaigns within the same company.",
      "tests": [],
      "tags": []
    },
    {
      "name": "acquisition_efficiency",
      "type": "DOUBLE",
      "description": "Measure of how cost-efficient the campaign's acquisition cost is compared to the company average (Company Avg Acquisition Cost / Campaign Acquisition Cost).",
      "tests": [],
      "tags": []
    },
    {
      "name": "revenue_share",
      "type": "DOUBLE",
      "description": "The campaign's contribution to the total company revenue over the last 30 days.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "spend_share",
      "type": "DOUBLE",
      "description": "The campaign's share of the total company spend over the last 30 days.",
      "tests": [
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_rank",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on ROI (descending - 1 is best).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "conversion_rank",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on conversion rate (descending - 1 is best).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "revenue_rank",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on revenue generated (descending - 1 is best).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "cpa_rank",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on CPA (ascending - 1 is best/lowest).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "roi_rank_asc",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on ROI (ascending - 1 is worst).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "conversion_rank_asc",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on conversion rate (ascending - 1 is worst).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "revenue_rank_asc",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on revenue generated (ascending - 1 is worst).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "cpa_rank_asc",
      "type": "BIGINT",
      "description": "Rank of the campaign within its company based on CPA (descending - 1 is worst/highest).",
      "tests": [
        "not_null",
        "dbt_utils.accepted_range"
      ],
      "tags": []
    },
    {
      "name": "performance_tier",
      "type": "VARCHAR",
      "description": "Performance category assigned based on ROI (excellent, good, average, below_average).",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "recommended_action",
      "type": "VARCHAR",
      "description": "Suggested optimization action based on campaign performance metrics relative to company averages.",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "is_top_roi_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the top ROI performers (Top 5 or Top 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_top_conversion_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the top conversion rate performers (Top 5 or Top 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_top_revenue_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the top revenue performers (Top 5 or Top 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_top_cpa_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the top CPA performers (lowest CPA - Top 5 or Top 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_bottom_roi_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the bottom ROI performers (Bottom 5 or Bottom 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_bottom_conversion_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the bottom conversion rate performers (Bottom 5 or Bottom 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_bottom_revenue_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the bottom revenue performers (Bottom 5 or Bottom 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    },
    {
      "name": "is_bottom_cpa_performer",
      "type": "BOOLEAN",
      "description": "Flag indicating if the campaign is among the bottom CPA performers (highest CPA - Bottom 5 or Bottom 10%).",
      "tests": [
        "not_null"
      ],
      "tags": []
    }
  ],
  "tags": []
}