{
  "name": "channel_monthly_metrics",
  "description": "Aggregates campaign performance metrics monthly by company and channel.\nThis model provides a time-based view of channel effectiveness within each company,\ncalculating key performance indicators (KPIs), month-over-month changes, spend, revenue,\nand channel share metrics. It follows a hierarchical structure with Company as the primary dimension\nand Channel_Used as the secondary dimension. Useful for trend analysis, seasonal comparisons,\nand identifying high/low performing channels over time per company.\n",
  "columns": [
    {
      "name": "Company",
      "type": "VARCHAR",
      "description": "The name of the company running the campaigns.",
      "tests": [
        "not_null",
        "relationships",
        "dbt_utils.unique_combination_of_columns"
      ],
      "tags": []
    },
    {
      "name": "Channel_Used",
      "type": "VARCHAR",
      "description": "The marketing channel used for the campaigns (e.g., Facebook, Google Ads, Email).",
      "tests": [
        "not_null",
        "relationships"
      ],
      "tags": []
    },
    {
      "name": "month",
      "type": "BIGINT",
      "description": "The calendar month (1-12) for which the metrics are aggregated.",
      "tests": [
        "not_null",
        "accepted_values"
      ],
      "tags": []
    },
    {
      "name": "campaign_count",
      "type": "BIGINT",
      "description": "The total number of distinct campaigns run by the company on the channel during the month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "avg_conversion_rate",
      "type": "DOUBLE",
      "description": "The average conversion rate across all campaigns for the company, channel, and month.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "avg_roi",
      "type": "DOUBLE",
      "description": "The average Return on Investment (ROI) across all campaigns for the company, channel, and month.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    },
    {
      "name": "avg_acquisition_cost",
      "type": "DOUBLE",
      "description": "The average cost to acquire a customer/lead across all campaigns for the company, channel, and month.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "monthly_ctr",
      "type": "FLOAT",
      "description": "The overall Click-Through Rate (CTR) calculated as (Total Clicks / Total Impressions) for the company, channel, and month.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "total_clicks",
      "type": "HUGEINT",
      "description": "The total number of clicks generated by all campaigns for the company, channel, and month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "total_impressions",
      "type": "HUGEINT",
      "description": "The total number of impressions generated by all campaigns for the company, channel, and month.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "total_spend",
      "type": "DOUBLE",
      "description": "The estimated total amount spent on campaigns for the company, channel, and month (Clicks * Acquisition_Cost).",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "total_revenue",
      "type": "DOUBLE",
      "description": "The estimated total revenue generated from campaigns for the company, channel, and month (Spend * ROI).",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    },
    {
      "name": "roi_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average ROI compared to the previous month for the same company and channel. Null for the first month observed.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    },
    {
      "name": "conversion_rate_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average conversion rate compared to the previous month for the same company and channel. Null for the first month observed.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    },
    {
      "name": "acquisition_cost_vs_prev_month",
      "type": "DOUBLE",
      "description": "The percentage change in average acquisition cost compared to the previous month for the same company and channel. Positive value indicates improvement (lower cost). Null for the first month observed.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    },
    {
      "name": "ctr_vs_prev_month",
      "type": "FLOAT",
      "description": "The percentage change in monthly CTR compared to the previous month for the same company and channel. Null for the first month observed.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    },
    {
      "name": "channel_count",
      "type": "BIGINT",
      "description": "The total number of distinct channels used by the company during that specific month across all campaigns.",
      "tests": [
        "not_null",
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "channel_share_clicks",
      "type": "FLOAT",
      "description": "The proportion of total clicks attributed to this specific channel within the company for the month.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type",
        "dbt_expectations.expect_column_values_to_be_between"
      ],
      "tags": []
    },
    {
      "name": "efficiency_ratio",
      "type": "DOUBLE",
      "description": "A measure of channel efficiency, calculated as Total Revenue / Total Spend for the company, channel, and month. Represents revenue generated per dollar spent.",
      "tests": [
        "dbt_expectations.expect_column_values_to_be_of_type"
      ],
      "tags": []
    }
  ],
  "tags": []
}